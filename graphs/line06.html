<!DOCTYPE html >
<html>
<head>
    <link rel="stylesheet" href="demos.css" type="text/css" media="screen" />
    
    <script src="../javascripts/RGraph.common.core.js" ></script>
    <script src="../javascripts/RGraph.common.dynamic.js" ></script>
    <script src="../javascripts/RGraph.common.effects.js" ></script>
    <script src="../javascripts/RGraph.line.js" ></script>
    <script src="../javascripts/jquery.min.js" ></script>
    
    <title>Line chart with Trace effect</title>
</head>
<body>

    <h1>Line chart with Trace effect</h1>

    <div>
        <canvas id="cvs" width="600" height="250">[No canvas support]</canvas>
    </div>
    
    <script>
	
		 window.onload = function (e)
    {
        RGraph.AJAX('http://localhost/Mock%20Stock/graphs/data.php?id=1', myCallback);
    }
	/**
    * This is the AJAX callback. When the AJAX function receives the data it calls this function.
    * This function then creates the chart.
    */
    function myCallback ()
    {
        var data = this.responseText.split(',');
        
        /**
        * IMPORTANT: Must convert the data (which is a string) to numbers
        */
        for (var i=0; i<data.length; ++i) {
            data[i] = Number(data[i]);
        }
        
        /**
        * Create the chart
        */
        var line = new RGraph.Line('cvs', data);
        line.Set('chart.labels', ['Felicity','Gary','Neil','Jay','Helga','Ray','Kev','Luis','Pete']);
        line.Set('chart.colors', ['black']);
        line.Set('chart.shadow', true);
        line.Set('chart.shadow.offsetx', 1);
        line.Set('chart.shadow.offsety', 1);
        line.Set('chart.linewidth', 2);
        line.Set('chart.yaxispos', 'right');
        line.Set('chart.xaxispos', 'center');
        line.Set('chart.hmargin', 5);
        RGraph.Effects.Line.jQuery.Trace(line);
    </script>

    <p>
        <a href="./">&laquo; Back</a>
    </p>

</body>
</html>